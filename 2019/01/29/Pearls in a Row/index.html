


<!DOCTYPE html>
<html lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<title>Codeforces C.Pearls in a Row [ 市井烟火气 ]</title>
	
	
	<!-- stylesheets list from _config.yml -->
	
	<link rel="stylesheet" href="/css/PreciousJoy.css">
	
	<link rel="stylesheet" href="/css/top-bar.css">
	
	<link rel="stylesheet" href="/css/menu-outer.css">
	
	<link rel="stylesheet" href="/css/content-outer.css">
	
	<link rel="stylesheet" href="/css/bottom-outer.css">
	
	<link rel="stylesheet" href="/css/atom-one-dark.css">
	
	<link rel="stylesheet" href="/css/recent-posts-item.css">
	
	<link rel="stylesheet" href="/css/article-sidebar-toc.css">
	
	<link rel="stylesheet" href="/css/jquery.fancybox.min.css">
	
	<link rel="stylesheet" href="/css/search.css">
	
	<link rel="stylesheet" href="/css/toc.css">
	
	<link rel="stylesheet" href="/css/sidebar.css">
	
	<link rel="stylesheet" href="/css/archive.css">
	
	<link rel="stylesheet" href="/css/jquery.mCustomScrollbar.min.css">
	
	<link rel="stylesheet" href="/css/Z-last-cover-others.css">
	
	
	
</head>




<body id="wrapper">

	<div id="">
		
		<div id="top-bar">
			
			<div id="avatar-box">
				<img class="avatar" src="/images/avatar.png" alt="avatar">
			</div>

			<div id="top-bar-text">
				<div id="top-bar-title">
					fireworks99
				</div>
				<div id="top-bar-slogan">
					keep hungry keep foolish
				</div>
			</div>

		</div>

		<div id="menu-outer">
			<div id="menu-inner">
				
				
				<div class="menu-item">
					<a href="/">Home</a>
				</div>
				
				<div class="menu-item">
					<a href="/about">About</a>
				</div>
				
				<div class="menu-item">
					<a href="/archives">Archives</a>
				</div>
				

				<div class="menu-item menu-item-search">
					
  <span class="local-search local-search-google local-search-plugin">
      <input type="search" placeholder="站内搜索" id="local-search-input" class="local-search-input-cls" style="">
      <div id="local-search-result" class="local-search-result-cls"></div>
  </span>
	
				</div>

			</div>
		</div>

		<div id="content-outer">
			<div id="content-inner">

				
<div id="details">
	
	<article id="details-post">
		<div id="details-post-item">
			<h1>Codeforces C.Pearls in a Row</h1>
			<h3 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h3><blockquote>
<p>There are <em>n</em> pearls in a row. Let’s enumerate them with integers from 1 to <em>n</em> from the left to the right. The pearl number <em>i</em> has the type <em>ai</em>.</p>
</blockquote>
<a id="more"></a>
<blockquote>
<p>Let’s call a sequence of consecutive pearls a segment. Let’s call a segment good if it contains two pearls of the same type.</p>
<p>Split the row of the pearls to the maximal number of good segments. Note that each pearl should appear in exactly one segment of the partition.</p>
<p>As input/output can reach huge size it is recommended to use fast input/output methods: for example, prefer to use scanf/printfinstead of cin/cout in C++, prefer to use BufferedReader/PrintWriter instead of Scanner/System.out in Java.</p>
</blockquote>
<h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><blockquote>
<p>The first line contains integer <em>n</em> (1 ≤ <em>n</em> ≤ 3·105) — the number of pearls in a row.</p>
<p>The second line contains <em>n</em> integers <em>a**i</em> (1 ≤ <em>a**i</em> ≤ 109) – the type of the <em>i</em>-th pearl.</p>
</blockquote>
<h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><blockquote>
<p>On the first line print integer <em>k</em> — the maximal number of segments in a partition of the row.</p>
<p>Each of the next <em>k</em> lines should contain two integers <em>l**j</em>, <em>r**j</em> (1 ≤ <em>l**j</em> ≤ <em>r**j</em> ≤ <em>n</em>) — the number of the leftmost and the rightmost pearls in the <em>j</em>-th segment.</p>
<p>Note you should print the correct partition of the row of the pearls, so each pearl should be in exactly one segment and all segments should contain two pearls of the same type.</p>
<p>If there are several optimal solutions print any of them. You can print the segments in any order.</p>
<p>If there are no correct partitions of the row print the number “-1”.</p>
</blockquote>
<h3 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a>Examples</h3><h4 id="input"><a href="#input" class="headerlink" title="input"></a>input</h4><blockquote>
<p>5</p>
<p>1 2 3 4 1</p>
</blockquote>
<h4 id="output"><a href="#output" class="headerlink" title="output"></a>output</h4><blockquote>
<p>1</p>
<p>1 5</p>
</blockquote>
<h4 id="input-1"><a href="#input-1" class="headerlink" title="input"></a>input</h4><blockquote>
<p>5</p>
<p>1 2 3 4 5</p>
</blockquote>
<h4 id="output-1"><a href="#output-1" class="headerlink" title="output"></a>output</h4><blockquote>
<p>-1</p>
</blockquote>
<h4 id="input-2"><a href="#input-2" class="headerlink" title="input"></a>input</h4><blockquote>
<p>7</p>
<p>1 2 1 3 1 2 1</p>
</blockquote>
<h4 id="output-2"><a href="#output-2" class="headerlink" title="output"></a>output</h4><blockquote>
<p>2</p>
<p>1 3</p>
<p>4 7</p>
</blockquote>
<h3 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h3><blockquote>
<p>要把一个数字序列分成几个序列（每个序列均含有相同元素），尽可能多地分（也就是让每个序列只含有一组相同元素）。找不到输出 -1 ，否则输出序列个数与起止点</p>
</blockquote>
<h3 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h3><blockquote>
<p>可以利用 <em>set</em> 自带除重的特点，将序列中的数字向set里放，每放一次检测一次大小，大了很正常，没变大说明出现了同样的元素，这就有了一个序列</p>
</blockquote>
<h3 id="坑点（末尾处理）"><a href="#坑点（末尾处理）" class="headerlink" title="坑点（末尾处理）"></a>坑点（末尾处理）</h3><blockquote>
<p>如果原序列是 </p>
<p>7</p>
<p>1 2 1 3 4 3 6</p>
<p>那么第一个符合要求的序列是 1 2 1，第二个是3 4 3 6，而不是3 4 3</p>
</blockquote>
<pre><code class="lang-c++">#include &lt;set&gt;
#include &lt;cstdio&gt;
#include &lt;string&gt;
#include &lt;iostream&gt;
#include &lt;algorithm&gt;
using namespace std;

struct node
{
    int left, right;
}ans[1000005];

int main()
{
    int n;
    while(~scanf(&quot;%d&quot;, &amp;n))
    {
        bool flag = 0;
        set&lt;int&gt; st;
        int tem = st.size();
        int tot = 0;
        ans[tot].left = 1;
        for(int i = 1; i &lt;= n; ++i)
        {
            int a;
            scanf(&quot;%d&quot;, &amp;a);
            st.insert(a);
            if(st.size() &gt; tem)
                tem = st.size();
            else
            {
                flag = 1;
                st.clear();
                ans[tot].right = i;
                tot++;
                ans[tot].left = i + 1;
                tem = st.size();
            }
        }
        if(!flag)
            cout &lt;&lt; &quot;-1&quot; &lt;&lt; &#39;\n&#39;;
        else
        {
            cout &lt;&lt; tot &lt;&lt; &#39;\n&#39;;
            for(int i = 0; i &lt; tot - 1; ++i)
                cout &lt;&lt; ans[i].left &lt;&lt; &#39; &#39; &lt;&lt; ans[i].right &lt;&lt; &#39;\n&#39;;
            if(ans[tot - 1].right != n)
                cout &lt;&lt; ans[tot - 1].left &lt;&lt; &#39; &#39; &lt;&lt; n &lt;&lt; &#39;\n&#39;;
        }
    }
}
</code></pre>

		</div>

		<!-- 来必力City版安装代码 -->
<div id="lv-container" data-id="city" data-uid="MTAyMC80NjIyNC8yMjczNQ==">
	<script type="text/javascript">
	   (function(d, s) {
	       var j, e = d.getElementsByTagName(s)[0];

	       if (typeof LivereTower === 'function') { return; }

	       j = d.createElement(s);
	       j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
	       j.async = true;

	       e.parentNode.insertBefore(j, e);
	       
	       
	   })(document, 'script');
	</script>
<noscript> 为正常使用来必力评论功能请激活JavaScript</noscript>
</div>
<!-- City版安装代码已完成 -->
		
	</article>

	<div id="toc">
		
	</div>

</div>

<!-- <div id="paginator"> -->
<!-- 	 -->
<!-- </div> -->




			</div>
		</div>

		<div id="bottom-outer">
			<div id="bottom-inner">
				Site by Baole Zhao | 
				Powered by <a href="http://hexo.io">Hexo</a> |
				theme <a href="https://github.com/fireworks99/hexo-theme-PreciousJoy">PreciousJoy</a>
			</div>
		</div>

		
	</div>





	
	<!-- scripts list from theme config.yml -->
	
	<script src="/js/jquery-3.5.1.min.js"></script>
	
	<script src="/js/PreciousJoy.js"></script>
	
	<script src="/js/highlight.pack.js"></script>
	
	<script src="/js/jquery.fancybox.min.js"></script>
	
	<script src="/js/search.js"></script>
	
	<script src="/js/load.js"></script>
	
	<script src="/js/jquery.mCustomScrollbar.concat.min.js"></script>
	
	<script src="/js/clipboard.min.js"></script>
	
	

	<script>hljs.initHighlightingOnLoad();</script>

</body>
</html>
